@import "./theme.scss";
@import "../../helpers/_size";

/* TREE */
/* Tree Navigation Menu */
.#{$class-prefix}tree {
    margin: 0;

    .tree-item {

        > input {
            display: none;
        }

        /* The title of the tree menu */
        .tree-item-header {
            display: block;
            padding: 0.25rem 0.5rem;
            cursor: pointer;
            // font-weight: 700; /* Keep styling consistent with menu-items */
            -webkit-touch-callout: none; /* iOS Safari */
            -webkit-user-select: none; /* Safari */
             -khtml-user-select: none; /* Konqueror HTML */
               -moz-user-select: none; /* Old versions of Firefox */
                -ms-user-select: none; /* Internet Explorer/Edge */
                    user-select: none;
        }
        
        /* The dropdown glyph of the tree menu */
        .tree-item-header .#{$class-prefix}icon {
            -webkit-transition: all $animation-duration;
            transition: all $animation-duration;
        }
        
        /* Expand the tree-item-body (has menu-items) */
        input:checked ~ .tree-item-body {
            // max-height: 100vh;
            max-height: none;
        }
        
        /* Rotate the dropdown glyph */
        input:checked ~ .tree-item-header .#{$class-prefix}icon {
            -webkit-transform: rotate(90deg);
            transform: rotate(90deg);
        }
        
        /* Container for the menu-items of the tree menu */
        .tree-item-body {
            max-height: 0; /* Hidden at first */
            margin-left: 1.5rem;
            padding-top: 0.25em;
            overflow: hidden;
            -webkit-transition: all $animation-duration;
            transition: all $animation-duration;
        }
    }
}

// /* The body that will encompass the tree-nav and tree-nav-content */
// .tree-nav-body {
//     display: -webkit-box;
//     display: -ms-flexbox;
//     display: flex;
//     height: 100vh;
//     -ms-flex-wrap: nowrap;
//     flex-wrap: nowrap;

//     /* A fixed menu on the side with a tree component */
//     .tree-nav {
//         -webkit-box-flex: 0;
//         -ms-flex-positive: 0;
//         flex-grow: 0;
//         -ms-flex-negative: 1;
//         flex-shrink: 1;
//         padding: 2rem 1rem 2rem 2rem;
//         min-width: 15rem;
//         height: 100vh;
//         overflow: auto;
//     }
    
//     /* The container for the tree component to prevent it from overflowing */
//     .tree-nav-container {
//         overflow-y: auto;
//         top: 4rem;
//         bottom: 1rem;
//     }

//     /* Darkened area that will close the navbar when clicked for mobile only */
//     & + .tree-nav-close {
//         display: none; /* Not needed in desktop */
//     }

//     /* Push document body further right to account for sidebar space */
//     & + .tree-nav-content {
//         max-width: 100%;
//         padding: 2rem;
//         -ms-flex: 1 0 auto;
//         -webkit-box-flex: 1;
//         flex: 1 0 auto;
//         overflow: auto;
//         margin: 0;
//     }

//     /* The body where all other HTML components are entered if a tree-nav is used */
//     .tree-nav-content {
//         width: 100%;
//         overflow: auto;
//         margin: 0;
//         padding: 2rem;
//     }
// }

// @media screen and (max-width: 768px) {
//     /* Hide the menu to the side by default */
//     .tree-nav {
//         height: 100%;
//         left: 0;
//         overflow-y: auto;
//         padding: 3rem 1.5rem;
//         position: fixed;
//         top: 0;
//         -webkit-transform: translateX(-100%);
//         transform: translateX(-100%);
//         transition: transform $animation-duration ease, -webkit-transform $animation-duration ease;
//         -webkit-transition: -webkit-transform $animation-duration ease;
//         transition: transform $animation-duration ease;
//         transition: -webkit-transform $animation-duration ease;
//         z-index: 400;

//         /* Open the menu from the side */
//         /* Use a link and add the id of this element as the url */
//         &:target {
//             -webkit-transform: translateX(0);
//             transform: translateX(0);
//             transition: transform $animation-duration ease, -webkit-transform $animation-duration ease;
//             -webkit-transition: -webkit-transform $animation-duration ease;
//             transition: -webkit-transform $animation-duration ease;
//             transition: transform $animation-duration ease;

//             /* Show the darkened area when the tree nav menu is clicked */
//             & + .tree-nav-close {
//                 display: block;
//                 background-color: rgba(0, 0, 0, 0.15);
//                 height: 100%;
//                 left: 0;
//                 position: fixed;
//                 right: 0;
//                 top: 0;
//                 width: 100%;
//                 z-index: 300;
//             }
//         }

//         /* Create the area to click to close the menu */
//         .tree-nav-close {
//             background-color: rgba(0, 0, 0, 0.15);
//             display: none;
//             height: 100%;
//             left: 0;
//             position: fixed;
//             right: 0;
//             top: 0;
//             width: 100%;
//             z-index: 300;
//         }

//         /* Reset max-width in mobile */
//         & + .tree-nav-body {
//             max-width: inherit;
//         }
//     }

//     /* Header bar for mobile websites with the tree-nav */
//     .tree-nav-header {
//         position: fixed;
//         top: 0;
//         left: 0;
//         right: 0;
//         background-color: rgba(248, 249, 250, 0.8);
//         height: 3.5rem;
//         padding: 0.75rem 0.5rem;
//         text-align: center;
//         z-index: 300;
//     }
// }
